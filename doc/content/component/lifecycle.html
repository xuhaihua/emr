<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="../../css/style.css">
        <script src="../../js/lib/flexible.js"></script>
        <title>
            EMR文档
        </title>
    </head>
    <body style="overflow-y: scroll;height: 100%;">
        <div class="content-right-frame">
            <div class="h-30"></div>

            <!--概述-->
            <div class="mb-10">
                <h1>
                    生命周期
                </h1>
                <p class="mb-10 fs-18">
                    组件或Room从开始创建一直到销毁会经过一系列阶段，这些阶段构成组件的整个生命周期，如下图：
                </p>
                <div class="result mt-25">
                    <img width="100%" src="../../img/ex23.png" alt="" />
                </div>

                <h3 class="mt-25">
                    <ul>
                        <li class="ml-25">生命周期钩子</li>
                    </ul>
                </h3>
                <p class="fs-16">
                    组件在运行到每个生命周期阶段都会运行对应的函数，该函数就是生命周期勾子，开发者可以在此添加自己的逻辑在不同的阶段运行自己的代码。
                </p>

                <h3>
                    Example：
                </h3>
                <p class="fs-16">
                    以下代码在mounted生命周期勾子函数内通过代码将Button按钮的icon image替找为pause
                </p>

                <h4 style="border-left:4px solid #999; padding-left: .1852rem; margin-top: .1852rem;">
                    视图代码：
                </h4>

                <div>
                    <code>
                        <pre style="margin: 0px; padding: 0px;" >
<span>&lt;</span><label>Root</label><span>&gt;</span>
    <sub>&lt;!--定义一个存放按钮的容器--&gt;</sub>
    <span>&lt;</span><label>PanelRoot <span> name="tools" x="0" y="0" z="1500" width="640" height="60" contentHorizontal="between"</span></label><span>&gt;</span>
        <sub>&lt;!--按钮组件--&gt;</sub>
        <span>&lt;</span><label>Button<span> name="playButton" backgroundImage="Button/source/image/play" /</span></label><span>&gt;</span>
    <span>&lt;</span><span style="color:#F07178;">/PanelRoot</span><span>&gt;</span>
<span>&lt;</span><span style="color:#F07178;">/Root</span><span>&gt;</span></pre>
                    </code>
                </div>

                <h4 style="border-left:4px solid #999; padding-left: .1852rem; margin-top: .1852rem;">
                    mounted 生命周期勾子函数代码：
                </h4>
                <div>
                    <code style="margin-top: .3704rem;">
                        <pre style="margin: 0px; padding: 0px;">
<span class="commentary">// mounted生命周期函数，在这里文档内容已绑定给视图</span>
<span class="block">protected</span> <span class="block">override</span> <span class="adorn">void</span> <span class="methodName">mounted</span><span class="block">(</span>)</span>
<span class="block">{</span>
    <span class="commentary">// Boutton组件</span>
    <span class="tag">var</span> playButton = this.<span class="methodName">getComponentsByName</span>&lt;<span class="genericity">Button</span>>(<span class="str">"playButton"</span>)[0];

    <span class="commentary">// 将Button组件的icon image替换成pause</span>
    playButton.<span class="methodName">backgroundImage = </span><span class="str">"code/Button/source/pause"</span>;
<span class="block">}</span></pre>
                    </code>

                    <div class="result mt-25">
                        <img width="100%" src="../../img/ex24.png" alt="" />
                    </div>
                </div>

                <div class="tip custom-block">
                    <p class="custom-block-title pd-0 color-black font-bold mt-0">
                        <span class="infoTitle">
                            <span>
                                <img src="../../img/info.png" alt="" />
                            </span>
                            <label>说明：</label>
                        </span>
                    </p>
                    <p>
                        由运行结果可以看到，以上代码成功的将按钮的图标由原本的play替换成了pause
                    </p>
                </div>
            </div>
            
            <!--空间节点-->
            <div class="mt-30">
                <h3>
                    <ul>
                        <li class="ml-25">勾子函数列表</li>
                    </ul>
                </h3>

                <div class="table-border">
                    <table cellspacing="0" class="table bb-1 bt-1">
                        <tr class="tableHead">
                            <td style="width: 30%;">方法</td>
                            <td>说明</td>
                        </tr>
                        <tr>
                            <td><span class="tag">protected virtual void</span> <span class="font-bold">create</span> ()</td>
                            <td>组件开始创建时被调用，在该阶段无法访问到组件的内容</td>
                        </tr>
                        <tr>
                            <td><span class="tag">protected virtual void</span> <span class="font-bold">created</span> ()</td>
                            <td>组件的内容及其结构已全部生成，但组件的内容在视图上还未完成样式的初始化，在该阶段可以访问到组件的内容但内容的样式还未被设置</td>
                        </tr>
    
    
                        <tr>
                            <td><span class="tag">protected virtual void</span> <span class="font-bold">mounted</span> ()</td>
                            <td>组件的内容已绑定到视图并完成了所有样式的设置和内容的布局，在该阶段可以安全的访问到组件的内容</td>
                        </tr>
        
                        <tr>
                            <td><span class="tag">protected virtual void</span> <span class="font-bold">destoryBefore</span> ()</td>
                            <td>当调用组件的destory方法后该勾子函数会被调用，在该阶段组件的内容仍然存在还未真正的被清理</td>
                        </tr>

                        <tr>
                            <td><span class="tag">protected virtual void</span> <span class="font-bold">destoryed</span> ()</td>
                            <td>组件的所有内容已被完全销毁，此刻用户已无法该问到该组件的内容</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        
        <div class="h-30"></div>
    </body>
</html>